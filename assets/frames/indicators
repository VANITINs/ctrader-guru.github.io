<div id="---" class="ui unstackable items description product">
    <div class="ui text container center aligned fixedtop">
        <div class="ui search">
            <div class="ui icon input">
                <input class="prompt" type="text" placeholder="Search indicators, type minimum 3 chars">
                <i class="search icon"></i>
            </div>
            <div class="results"></div>
        </div>
    </div>
    <div class="ui hidden divider"></div>
</div>
<script>
    (($, MAIN, TAB) => {

        "use strict";

        // --> I edit the placeholder to start editing
        $("#---").attr("id", MAIN);

        const
            SEARCH = '#' + MAIN + ' input.prompt',
            ITEMS = '#' + MAIN + ' .item[data-repo]',
            LOADING = '#' + MAIN + ' div.ui.search',
            GITHUB_REPOS = [

                "box-info",
                "trendline-power"

            ];

        // --> Initialising the search function
        $(SEARCH).bind('keyup', function(e) {

            let myvalue = this.value.trim();

            if (!$(LOADING).hasClass("loading")) $(LOADING).addClass("loading");

            if (myvalue.length < 3) {

                $(ITEMS).show();

            } else {

                $(ITEMS).hide();
                $(ITEMS + " .header:contains('" + myvalue + "')").closest(".item[data-repo]").show();
                $(ITEMS + " .description:contains('" + myvalue + "')").closest(".item[data-repo]").show();
                $(ITEMS + " .extra:contains('" + myvalue + "')").closest(".item[data-repo]").show();

            }

            setTimeout(() => {
                $(LOADING).removeClass("loading");
            }, 300);

            e.preventDefault();

        });

        // --> Adding all available repositories
        CG.LoadRepos(GITHUB_REPOS, TAB, (success) => {

            if (!success) return;

            // --> Hashtags
            $(ITEMS + " .extra .ui.label").bind("click", function() {

                $(SEARCH).val($(this).html());
                $(SEARCH).trigger('keyup');

            });

            // --> Modal Details
            $(ITEMS + " .open.details").click(function() {

                $('#product-details p').html($(this).closest(".item").attr("data-repo"));

                $('#product-details')
                    .modal({
                        closeIcon: true
                    })
                    .modal('show');

            });

        });

    })(jQuery, "indicators-items", "indicators");
</script>